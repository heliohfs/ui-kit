import { Meta, Story, Props, Source } from '@storybook/addon-docs/blocks';
import {
  TimeslotSelectorStory,
  selectedEmailPerson,
  selectedDate,
  selectedTime,
  onHandleScheduleTest,
  style,
  handleChange,
  personsEmailSelected,
  customStep
} from '@tecsinapse/timeslot-selector/build/TimeslotSelector/TimeslotSelectorStory';
import { DivFlex } from '@tecsinapse/ui-kit/build/withFlexCenter';
import { availabilities as personsAvailabilities } from '@tecsinapse/timeslot-selector/build/TimeslotSelector/availabilities';

<Meta
  title="@tecsinapse/timeslot-selector|Timeslot Selector"
  decorators={[
    story => (
      <DivFlex>
        <div style={{ width: '700px', height: '500px' }}>{story()}</div>
      </DivFlex>
    ),
  ]}
/>

# Timeslot Selector

To view `TimeslotSelector` component and it's props, check out [@tecsinapse/timeslot-selector](https://github.com/tecsinapse/timeslot-selector).
After importing `@tecsinapse/ui-kit` and `@tecsinapse/timeslot-selector`, all you have to do is:

```
import { ThemeProvider } from '@tecsinapse/ui-kit';
import { TimeslotSelector } from '@tecsinapse/timeslot-selector';

const App = () => {
  return (
    <ThemeProvider variant="orange">
      <TimeslotSelector />
    </ThemeProvider>
  );
};
```

# Code snippets

Here you can check the code snippet for the story.

## Inline

<Story name="Inline" parameters={{ docs: { disable: true } }}>
  <TimeslotSelectorStory
    style={style}
    personsAvailabilities={personsAvailabilities}
    selectedEmailPerson={selectedEmailPerson}
    durations={[15, 20, 30]}
    defaultDuration="20"
    onWeekChange={obj => console.log(obj)}
    onHandleSchedule={onHandleScheduleTest}
    personsEmailSelected={personsEmailSelected}
    selectedTime={selectedTime}
    selectedDate={selectedDate}
  />
</Story>

<Source id="tecsinapse-timeslot-selector-timeslot-selector--inline" />

## Modal

<Story name="Modal" parameters={{ docs: { disable: true } }}>
  <TimeslotSelectorStory
    style={style}
    personsAvailabilities={personsAvailabilities}
    selectedEmailPerson={selectedEmailPerson}
    durations={[15, 20, 30]}
    defaultDuration="20"
    dialog
    openOpened
    onWeekChange={obj => console.log(obj)}
    onHandleSchedule={onHandleScheduleTest}
    onCloseDialog={() => {}}
    personsEmailSelected={personsEmailSelected}
    selectedTime={selectedTime}
    selectedDate={selectedDate}
  />
</Story>

<Source id="tecsinapse-timeslot-selector-timeslot-selector--modal" />

## Custom Steps

<Story name="Custom Steps" parameters={{ docs: { disable: true } }}>
  <TimeslotSelectorStory
    beforeSteps={customStep}
    style={style}
    personsAvailabilities={personsAvailabilities}
    durations={[15, 20, 30]}
    defaultDuration="20"
    onWeekChange={obj => console.log(obj)}
    onHandleSchedule={onHandleScheduleTest}
    personsEmailSelected={personsEmailSelected}
    selectedTime={selectedTime}
    selectedDate={selectedDate}
  />
</Story>

<Source id="tecsinapse-timeslot-selector-timeslot-selector--custom-steps" />
