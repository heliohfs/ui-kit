import {
  Meta,
  Story,
  Props,
  Source,
} from '@storybook/addon-docs/blocks';
import { DivFlex } from '@tecsinapse/ui-kit/build/withFlexCenter';
import { DatePicker } from './DatePicker';
import { DateTimePicker } from './DateTimePicker';
import { TimePicker } from './TimePicker';
import { PickersProvider } from './PickersProvider';
import { DateTime } from 'luxon';

<Meta title="Picker" decorators={[story => <DivFlex>{story()}</DivFlex>]} />

# Picker

There are several types of Picker components. To use these pickers, you have to specify a date provider like `moment`, `luxon` or `datefns`.
The following example uses `luxon` with `pt-BR` locale.

```
import { MuiPickersUtilsProvider } from '@material-ui/pickers';
import LuxonUtils from '@date-io/luxon';

export const PickersProvider = ({ children, locale = 'pt-BR' }) => (
  <MuiPickersUtilsProvider utils={LuxonUtils} locale={locale}>
    {children}
  </MuiPickersUtilsProvider>
);
```

By default, `@tecsinapse/pickers` have a `luxon` provider that you can use importing:

```
import { PickersProvider } from '@tecsinapse/pickers';
import { DatePicker } from '@tecsinapse/pickers';

export const DateComponent = () => (
  <PickersProvider>
    <DatePicker />
  <PickersProvider>
);
```

## Date Picker

The DatePicker component can receive the following props:

<Props of={DatePicker} />

## Date Time Picker

The DateTimePicker component can receive the following props:

<Props of={DateTimePicker} />

## Weekly Date Picker

## Color Picker

## Time Picker

The TimePicker component can receive the following props:

<Props of={TimePicker} />

# Code snippets

Here you can check the code snippet for the story.

## Date

<Story name="Date" parameters={{ docs: { disable: true } }}>
  {() => {
    const [selectedDate, setSelectedDate] = React.useState(
      new Date('2014-08-18T21:11:54')
    );
    return (
      <PickersProvider>
        <DatePicker
          selectedDate={selectedDate}
          onChange={date => setSelectedDate(date)}
          format="dd/MM/yyyy"
          name="datetimepicker"
          pointedDates={[DateTime.fromISO('2014-08-25T09:08:34.123')]}
        />
      </PickersProvider>
    );
  }}
</Story>

<Source id="picker--date" />

## Custom Text Input Date Picker

<Story name="Custom Text Input Date" parameters={{ docs: { disable: true } }}>
  {() => {
    const [selectedDate, setSelectedDate] = React.useState(
      new Date('2014-08-18T21:11:54')
    );
    return (
      <PickersProvider>
        <DatePicker
          selectedDate={selectedDate}
          onChange={date => setSelectedDate(date)}
          format="dd/MM/yyyy"
          name="datetimepicker"
          pointedDates={[DateTime.fromISO('2014-08-25T09:08:34.123')]}
        />
      </PickersProvider>
    );
  }}
</Story>

<Source id="picker--date" />
